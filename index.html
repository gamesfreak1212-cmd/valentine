<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You üíñ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
section{display:none;height:100vh;width:100vw;position:relative;overflow:hidden}

#section-valentine{display:flex;justify-content:center;align-items:center;flex-direction:column;background:linear-gradient(135deg,#ffe6e6,#ffd9f0);text-align:center}
.btn-val{padding:14px 30px;border-radius:30px;font-size:1.2rem;cursor:pointer;border:none;color:#fff}
.yes-btn{background:#28a745}
.no-btn{background:#dc3545}

#section-love{background:#000;color:#fff;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative;overflow:hidden}

.confetti,.heart{position:absolute;pointer-events:none}
.confetti{width:8px;height:14px;background:yellow;animation:fall 4s linear infinite}
.heart{color:#ff4da6;font-size:18px;animation:floatUp 6s linear infinite}
@keyframes fall{from{transform:translateY(-10vh)}to{transform:translateY(110vh)}}
@keyframes floatUp{from{transform:translateY(100vh);opacity:0}20%{opacity:1}to{transform:translateY(-10vh);opacity:0}}

.side{position:absolute;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:20px}
.left-side{left:10px}
.right-side{right:10px}
.side img{width:90px;height:110px;object-fit:cover;border-radius:12px;opacity:0;transform:scale(.6);transition:.6s}
.side img.show{opacity:1;transform:scale(1)}

.surprise-btn{margin-top:30px;padding:12px 25px;border:none;border-radius:25px;background:#ff4da6;color:#fff;cursor:pointer;opacity:0;transform:scale(0);transition:.5s}
.surprise-btn.show{opacity:1;transform:scale(1)}
</style>
</head>

<body>

<section id="section-valentine" style="display:flex">
<h1>Will you be my Valentine? üíñ</h1>
<button class="btn-val yes-btn" id="yesBtn">Yes üíö</button>
<button class="btn-val no-btn">No ‚ùå</button>
</section>

<section id="section-love">
<div class="side left-side">
<img src="pic1.jpg"><img src="pic2.jpg">
</div>
<div class="side right-side">
<img src="pic3.jpg"><img src="pic4.jpg">
</div>
<h1>SHE SAID YES üíö</h1>
<button class="surprise-btn" id="surpriseBtn">You thought this was the end? üòè</button>
</section>

<script>
// ===============================
// SECTION SWITCHING
// ===============================
function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='flex';

  // When LOVE page opens ‚Üí start animations
  if(id === 'section-love'){

    // Fade images one by one (reset first)
    const imgs = document.querySelectorAll("#section-love .side img");
    imgs.forEach(img=>{
      img.classList.remove('show');
      img.style.opacity = 0;
    });

    imgs.forEach((img,i)=>{
      setTimeout(()=>{
        img.classList.add('show');
      }, i * 900); // slower stagger for mobile
    });

    // Show surprise button after 15 seconds
    const btn = document.getElementById('surpriseBtn');
    btn.style.display = 'none';
    setTimeout(()=>{
      btn.style.display = 'inline-block';
    },15000);

    // Create floating hearts/confetti
    startHearts();
  }
}
showSection('section-index');

// ===============================
// NAV BUTTONS
// ===============================
document.getElementById('to-letter').onclick = ()=>{ showSection('section-letter'); startLetterAnimation(); };
document.getElementById('to-valentine').onclick = ()=> showSection('section-valentine');
document.getElementById('yes-btn').onclick = ()=> showSection('section-love');
document.getElementById('surpriseBtn').onclick = ()=> showSection('section-reply');
document.getElementById('nextBtn').onclick = ()=> showSection('section-look');

// ===============================
// REPLY CONFIRM
// ===============================
function confirmTime(){
  const start=parseFloat(document.getElementById("start").value);
  const end=parseFloat(document.getElementById("end").value);
  const result=document.getElementById("result");

  if(isNaN(start)||isNaN(end)||start<0||end>12.5||start>=end){
    result.innerHTML="Enter a valid time between 0 and 12.30 üòÖ";
    document.getElementById('nextBtn').style.display="none";
    return;
  }

  result.innerHTML=`Perfect üòå Feb 14th at ${start}‚Äì${end} PM is now officially ours üíñ‚ú®`;
  document.getElementById('nextBtn').style.display="inline-block";
}

// ===============================
// LETTER ANIMATION
// ===============================
function startLetterAnimation(){
  const envelope=document.querySelector("#section-letter .envelope");
  const letter=document.querySelector("#section-letter .letter");
  const lines=document.querySelectorAll("#section-letter .line");
  const signature=document.querySelector("#section-letter .signature");

  const text=[
"Hi baby‚Ä¶ üíå",
"We‚Äôve known each other for almost 8 years now, and we‚Äôve liked each other for the past 4 years‚Ä¶ ‚ù§Ô∏è",
"I know I‚Äôm not the person you once wished for. I‚Äôm just someone ordinary‚Ä¶ maybe even boring.",
"But still‚Ä¶ I feel something real for you.",
"And somehow, I feel this Valentine might be the last one I ever get to celebrate with you‚Ä¶ üíî",
"Maybe we aren‚Äôt meant to stay forever. But I truly wish‚Ä¶ at least for this Valentine, we can still be together. üíñ"
];

  let lineIndex=0,charIndex=0;
  lines.forEach(l=>l.textContent='');
  signature.textContent='';

  setTimeout(()=>{envelope.classList.add('open');},1200);
  setTimeout(()=>{letter.classList.add('show'); typeText();},3000);

  function typeText(){
    if(lineIndex<text.length){
      if(charIndex<text[lineIndex].length){
        lines[lineIndex].textContent+=text[lineIndex][charIndex];
        charIndex++;
        setTimeout(typeText,60);
      }else{
        lineIndex++; charIndex=0;
        setTimeout(typeText,700);
      }
    }else{
      signature.textContent="‚Äî Yours, always üíñ";
      document.getElementById("next-wrapper").style.display='block';
    }
  }
}

// ===============================
// FLOATING HEARTS / CONFETTI
// ===============================
function startHearts(){
  const section = document.getElementById('section-love');

  const interval = setInterval(()=>{
    if(section.style.display === 'none'){
      clearInterval(interval);
      return;
    }

    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üíñ';

    heart.style.left = Math.random()*100 + 'vw';
    heart.style.animationDuration = (4 + Math.random()*3) + 's';

    section.appendChild(heart);

    setTimeout(()=>heart.remove(),7000);

  },300);
}
</script>

</body>
</html>
